<p style="color: green"><%= notice %></p>

<div class="d-flex justify-content-between mt-4">
  <div>
    <h1 class="mb-0"><%= @game %></h1>
    <small class="text-muted"><%= @game.date.strftime("%Y-%m-%d") %>
  </div>
  <div>
    <%= link_to "Edit", edit_game_path(@game), class: "btn btn-primary" %>
  </div>
</div>

<% @game.volleyball_sets.each do |volleyball_set| %>
  <div class="d-flex flex-row justify-content-between align-items-center mt-4 mb-2">
    <div>
      <h3 class="m-0">Players for set <%= volleyball_set.order %></h3>
      <small>Add players starting from rotation 1</small>
    </div>
    <div class="d-flex flex-row">
      <%= link_to "log events", log_events_volleyball_set_path(volleyball_set), class: "me-2", data: {turbo_frame: "_top"} %>
      <%= link_to "remove", volleyball_set_path(volleyball_set), class: "text-danger", data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
    </div>
  </div>
  <%= render Players::ListComponent.new(players: volleyball_set.players, volleyball_set: volleyball_set) %>
<% end %>

<hr/>

<%= bootstrap_form_with model: [@game, VolleyballSet.new] do |form| %>
  <%= form.hidden_field :game_id, value: @game.id %>
  <%= form.hidden_field :team_id, value: @game.team_id %>
  <div class="d-flex flex-row mt-4">
    <%= form.submit "+ Set", class: "btn btn-outline-primary flex-grow-1 me-2" %>
    <%= form.select :starting_rotation, options_for_select(1..6, 1), hide_label: true, wrapper_class: "m-0" %>
  </div>
<% end %>
