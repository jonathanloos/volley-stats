<%= turbo_stream.replace dom_id(@event.player.present? ? @event.player : @event.team, :new_event) do %>
  <%= render(Events::FormComponent.new(event: Event.new(volleyball_set: @volleyball_set, player: @event.player || Player.new))) %>
<% end %>

<%= turbo_stream.remove dom_id(@event) %>

<% @volleyball_set.players.each do |player| %>
  <%= turbo_stream.replace dom_id(player, :undo_button) do %>
    <%= turbo_frame_tag dom_id(player, :undo_button) do %>
      <%= render(Events::UndoComponent.new(event: player.events.last)) %>
    <% end %>
  <% end %>
<% end %>

<%= turbo_stream.replace dom_id(@volleyball_set.game.away_team, :undo_button) do %>
  <%= turbo_frame_tag dom_id(@volleyball_set.game.away_team, :undo_button) do %>
    <%= render(Events::UndoComponent.new(event: @volleyball_set.events.where(team: @volleyball_set.game.away_team).last)) %>
  <% end %>
<% end %>

<%= turbo_stream.replace dom_id(@volleyball_set, :score) do %>
  <%= turbo_frame_tag dom_id(@volleyball_set, :score) do %>
    <%= render(VolleyballSets::ScoreComponent.new(volleyball_set: @volleyball_set)) %>
  <% end %>
<% end %>
