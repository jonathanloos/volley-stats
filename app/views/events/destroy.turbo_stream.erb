<%= turbo_stream.replace dom_id(Event.new) do %>
  <%= turbo_frame_tag dom_id(Event.new) do %>
    <%= bootstrap_form_with model: [@volleyball_set, Event.new], data: {"game-events-target": "submissionForm"} do |form| %>
      <%= form.hidden_field :player_id, value: 1, data: {"game-events-target": "playerSubmission"} %>
      <%= form.hidden_field :category, value: nil, data: {"game-events-target": "categorySubmission"} %>
      <%= form.hidden_field :rally_skill, value: nil, data: {"game-events-target": "rallySkillSubmission"} %>
      <%= form.hidden_field :skill_point, value: nil, data: {"game-events-target": "skillPointSubmission"} %>
      <%= form.hidden_field :skill_error, value: nil, data: {"game-events-target": "skillErrorSubmission"} %>
      <%= form.hidden_field :quality, value: nil, data: {"game-events-target": "qualitySubmission"} %>
    <% end %>
  <% end %>
<% end %>

<%= turbo_stream.replace :events, class: "flex-grow-1" do %>
  <%= render(Events::ListComponent.new(volleyball_set: @volleyball_set)) %>
<% end %>

<%= turbo_stream.replace :players do %>
  <%= turbo_frame_tag :players do %>
    <%= render(Players::LineupComponent.new(volleyball_set: @volleyball_set)) %>
  <% end %>
<% end %>

<%= turbo_stream.replace :undo_button, class: "flex-grow-1" do %>
  <%= turbo_frame_tag :undo_button, class: "flex-grow-1" do %>
    <%= link_to "undo", @volleyball_set.events.last, id: "undoButton", class: "btn btn-light #{"d-none" if @volleyball_set.events.empty?} w-100 mb-3", data: {action: "game-events#undoAction", "game-events-target": "undoButton", turbo_method: :delete, turbo_stream: true} %>
  <% end %>
<% end %>